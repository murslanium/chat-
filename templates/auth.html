{% extends "base.html" %}

{% block title %}
    "Авторизация"
{% endblock %}
{% block body %}


    <script>
        {% if userData != None %}
            alert("Пользователь: {{ userData.email }} -- {{ userData.first_name }} успешно зарегистрирован")
        {% endif %}

        {% if authError %}
            alert("Авторизация не удалась: попробуйте снова")
        {% endif %}
    </script>


    <div class="d-grid gap-3" style="grid-template-columns: 2fr 1fr 2fr;">
        <div></div>
        <div class="custom-form">
            <form action="{% url 'auth' %}" method="post">
                {% csrf_token %}
                <h1 class="h3 mb-3 fw-normal">Авторизация</h1>

                <div class="form-floating">
                    <input type="email" class="form-control" id="floatingEmail" name="email" value="{{ email }}"
                           required>
                    <label for="floatingEmail">E-mail</label>
                </div>

                <div class="form-floating">
                    <input type="password" class="form-control" id="floatingPassword" name="password" required>
                    <label for="floatingPassword">Пароль</label>
                </div>
                <button class="w-100 btn btn-lg btn-primary" type="submit">Войти в чат</button>
            </form>

            <a href="{% url 'register' %}" class="w-100 btn btn-lg btn-outline-secondary">Зарегистрироваться</a>
        </div>
        <div></div>
    </div>
{% endblock %}